---
source_path: /Users/kim/projects/lean/mathlib4/Mathlib/Algebra/CharP
generated: 2025-12-04T00:00:00Z
git_sha: 453cce856d41bd2715d9055ecdc877015033095f
git_branch: heads/nightly-testing
status: complete
files_count: 16
subdirs_count: 0
---

# CharP

## Overview

This folder contains the theory of characteristic `p` for rings and semirings in mathlib4. It defines the fundamental typeclass `CharP R p` expressing that a ring has characteristic `p` (where the unique ring homomorphism `ℕ → R` has kernel generated by `p`), along with `ringChar` (the noncomputable characteristic function) and `ExpChar` (exponential characteristic, which is 1 for characteristic zero and `p` for prime characteristic `p`). The folder develops comprehensive theory including the Frobenius endomorphism `x ↦ x^p`, binomial expansion formulas for prime powers, relationships between characteristic and cardinality, and characteristic-preserving properties of ring homomorphisms, quotients, products, and algebraic constructions.

## Key Files

| File | Purpose |
|------|---------|
| Defs.lean | Core definitions: `CharP R p` typeclass (with cast_eq_zero_iff characterization), `ringChar` function, `ExpChar` typeclass for exponential characteristic, and fundamental properties (uniqueness, existence, relationship to `CharZero`) |
| Basic.lean | Fundamental results on characteristic: congruences and modular arithmetic (`natCast_eq_natCast`, `intCast_eq_intCast`), characteristic of products (lcm of characteristics), `ULift`/opposite instances, characteristic 2 detection, and prime characterization theorems |
| Lemmas.lean | Binomial expansion formulas for rings of prime/exponential characteristic: `add_pow_prime_eq` for `(x+y)^p`, Frobenius map definitions (`frobenius R p` and `iterateFrobenius R p n` as ring homomorphisms), and preliminary results on sums of p-powers |
| Algebra.lean | Characteristic preservation through algebra homomorphisms: `charP_of_injective_algebraMap` (injective maps preserve characteristic), instances for `FreeAlgebra` and `FractionRing`, ℚ-algebras have characteristic zero, and field algebra characteristic equivalence |
| Frobenius.lean | Extended theory of the Frobenius endomorphism: iteration properties, commutativity with ring homomorphisms, Frobenius-semilinear maps `LinearMap.frobenius`, and deprecated compatibility lemmas |
| Two.lean | Characteristic 2 specialized theory: `CharTwo` namespace with `add_self_eq_zero`, `neg_eq` (negation is identity), `sub_eq_add`, binomial formulas for squares (`add_sq`, `sum_sq`), injectivity of squaring in domains, and `orderOf (-1)` analysis |
| CharAndCard.lean | Relationship between characteristic and cardinality: prime units in rings (`isUnit_iff_not_dvd_char`), finite rings have nonzero characteristic, and characteristic must be prime in finite domains |
| MixedCharZero.lean | Equal vs mixed characteristic theory: `MixedCharZero R p` typeclass for rings of mixed characteristic (0,p), case-splitting theorems (`split_by_characteristic`, `split_by_characteristic_domain`, `split_by_characteristic_localRing`), and characterization of ℚ-algebras |
| Pi.lean | Characteristic of function types: `CharP (ι → R) p` instance when `CharP R p` and `ι` is nonempty (characteristic determined pointwise) |
| Invertible.lean | Interaction between characteristic and invertible elements: invertibility of characteristic-related natural numbers and primes |
| Quotient.lean | Characteristic of quotient rings by ideals: characteristic divides or equals the base ring characteristic |
| Reduced.lean | Characteristic in reduced rings (rings with no nonzero nilpotent elements) |
| Subring.lean | Characteristic of subrings: subrings inherit the characteristic of the ambient ring |
| LocalRing.lean | Characteristic theory specific to local rings: residue field characteristic and relationships |
| IntermediateField.lean | Characteristic of intermediate fields in field extensions |
| LinearMaps.lean | Characteristic-preserving properties of linear maps and modules |

## Subdirectories

None.

## Search Tags

characteristic charP ringChar expChar frobenius binomial prime-characteristic characteristic-zero characteristic-two mixed-characteristic equal-characteristic algebra-homomorphism quotient-ring finite-ring reduced-ring local-ring intermediate-field exponential-characteristic
