---
source_path: /Users/kim/projects/lean/mathlib4/Mathlib/MeasureTheory/Measure
generated: 2026-01-24T19:13:18Z
git_sha: 542a7d7979ad5f45d2a89008412e565c8fa001d2
git_branch: heads/nightly-testing
status: preliminary
files_count: 50
subdirs_count: 4
---

# Measure

## Overview

The `Measure/` directory contains the core formalization of measures on measurable spaces in mathlib4. It defines the `Measure` structure as a countably additive outer measure on measurable sets, provides fundamental operations on measures (restriction, pushforward, density change), and develops the theory of special measure classes including finite measures, probability measures, the Hausdorff measure, and Stieltjes measures. The directory includes regularity properties (outer regular, weakly regular, inner regular measures), measure relationships (absolute continuity, mutual singularity), and topological aspects (weak convergence, Levy-Prokhorov metric, Portmanteau theorem). Key constructions include the Giry monad (making measures into a measurable space), the Radon-Nikodym theorem via the withDensity construction, and connections to integration theory via characteristic functions.

## Key Files

| File | Purpose |
|------|---------|
| MeasureSpaceDef.lean | Foundational definition of the `Measure` structure as an outer measure with countable additivity on measurable sets and the trimming property; defines the `MeasureSpace` typeclass providing a canonical measure `volume` on a measurable space |
| MeasureSpace.lean | Extended properties and constructions for measures including `Measure.ofMeasurable` for defining measures from measurable sets only, `OuterMeasure.toMeasure` via Carathéodory measurability, extensionality lemmas (`ext`, `ext_of_generateFrom_of_iUnion`, `ext_of_generate_finite`), and the completion construction for measures on null measurable sets |
| FiniteMeasure.lean | Type of finite measures with topology of weak convergence (coarsest topology making integration of bounded continuous nonnegative functions continuous); includes push-forward `f*` as continuous linear map, convergence characterization via integrals of bounded continuous functions, and Hausdorff property on pseudo-metrizable spaces |
| ProbabilityMeasure.lean | Type of probability measures (total mass = 1) with topology of convergence in distribution (weak convergence); normalization of finite measures to probability measures, convergence characterization via expected values of bounded continuous random variables, continuous push-forward along measurable maps |
| Hausdorff.lean | d-dimensional Hausdorff measure `μH[d]` on extended metric spaces defined as `⨆ δ > 0, ⨅ (covers) ∑' ediam^d`; proves Hausdorff measure is metric outer measure satisfying Carathéodory condition, monotonicity in dimension, zero-infinity dichotomy `μH[d₁] s = ∞ ∨ μH[d₂] s = 0` for d₁ < d₂ (leads to Hausdorff dimension) |
| Regular.lean | Regularity classes for measures: `OuterRegular` (measure of measurable sets = inf over open supersets), `WeaklyRegular` (outer regular + inner regular for opens w.r.t. closed sets), `Regular` (finite on compacts + outer regular + inner regular for opens w.r.t. compact sets), `InnerRegular` (inner regular for measurable sets w.r.t. compacts), `InnerRegularCompactLTTop` (inner regular for finite measure sets w.r.t. compacts); includes implications and Riesz representation context |
| GiryMonad.lean | Measures form a measurable space via σ-algebra generated by all projections `μ ↦ μ s` for measurable s; proves measurability of measure addition, scalar multiplication, and functorial constructions; foundation for categorical formulation and monadic structure of measures |
| Restrict.lean | Restriction of measure `μ.restrict s` to a subset s as ℝ≥0∞-linear map; interaction with measure operations (sum, map, comap) and set operations (inclusion, union, Union); relationship between subtype restriction (pullback under `Subtype.val`) and set restriction |
| WithDensity.lean | Measure with density: `μ.withDensity f` satisfies `(μ.withDensity f) s = ∫⁻ a in s, f a ∂μ` for measurable s; includes Radon-Nikodym theorem stating `μ ≪ ν` iff `μ = ν.withDensity (rnDeriv μ ν)` when Lebesgue decomposition exists |
| AbsolutelyContinuous.lean | Absolute continuity `μ ≪ ν` (notation): `ν s = 0 → μ s = 0`; equivalent to almost-everywhere filter inequality `ae μ ≤ ae ν`; foundational for Radon-Nikodym theory |
| MutuallySingular.lean | Mutual singularity of measures: `μ ⊥ₘ ν` means existence of measurable partition where μ vanishes on one part and ν on the other; orthogonality in measure theory |
| Map.lean | Push-forward (image measure) `μ.map f` for measurable `f : α → β`; satisfies `(μ.map f) s = μ (f ⁻¹' s)` for measurable s; composition properties and interaction with other measure operations |
| Comap.lean | Pull-back of measures along injective measurable functions; dual to push-forward Map construction |
| Dirac.lean | Dirac measure `dirac a` concentrated at point a: `dirac a s = 1` if `a ∈ s`, else 0; basic point mass measure with no atoms except at the specified point |
| Stieltjes.lean | Stieltjes measures on conditionally complete dense linear orders (generalizing ℝ): associates measure to monotone right-continuous function f where `f.measure (Ioc a b) = ofReal (f b - f a)`; includes constructions for intervals Ioo, Icc, Ico using left limits |
| Prod.lean | Product measures `μ ⊗ ν` on product spaces; likely includes Fubini-Tonelli preparation and product measure construction |
| LevyProkhorovMetric.lean | Levy-Prokhorov metric on finite measures: `d(μ,ν) = inf{ε > 0 : μ(A) ≤ ν(Aᵋ) + ε for all Borel A}` where Aᵋ is ε-enlargement; metrizes weak convergence of measures on separable metric spaces |
| Portmanteau.lean | Portmanteau theorem: multiple equivalent characterizations of weak convergence of finite/probability measures (convergence on open sets, closed sets, continuity sets, bounded continuous functions) |
| Prokhorov.lean | Prokhorov's theorem relating tightness and relative compactness of measure families; fundamental result for weak convergence theory |
| Tight.lean | Tightness of measures: for all ε > 0 exists compact K with μ(Kᶜ) < ε; key property for compactness in measure spaces |
| TightNormed.lean | Tightness results specific to normed spaces |
| SeparableMeasure.lean | Separable measures: measures whose support is separable or that can be approximated by measures on countable sets |
| Count.lean | Counting measure: assigns to each set its cardinality (possibly infinite) |
| AddContent.lean | Additive content: finitely additive set function on a semiring; generalization before extending to full measures |
| Content.lean | Content: finitely additive measure-like object on a ring of sets; intermediate concept in measure construction |
| AEMeasurable.lean | Almost-everywhere measurable functions: functions equal almost everywhere to a measurable function; extends measurability notion using measure-theoretic equality |
| AEDisjoint.lean | Almost-everywhere disjoint sets: sets whose intersection has measure zero; weakened disjointness for measure theory |
| NullMeasurable.lean | Null measurable sets: sets differing from a measurable set by a null set; completion of measurable sets under a measure |
| CharacteristicFunction.lean | Characteristic (indicator) functions of sets in measure theory context; integration of characteristic functions |
| IntegralCharFun.lean | Integration theory specifically for characteristic functions; connection between measure of sets and integrals of indicators |
| ContinuousPreimage.lean | Measurability properties related to continuity and preimages; interaction between topology and measure theory |
| HasOuterApproxClosed.lean | Measures that can outer-approximate measurable sets by closed sets; regularity property for topological measure theory |
| HasOuterApproxClosedProd.lean | Outer approximation by closed sets for product measures |
| Support.lean | Support of a measure: smallest closed set with full measure (complement has measure zero) |
| EverywherePos.lean | Measures that are everywhere positive: for every nonempty open set, the measure is positive |
| OpenPos.lean | Measures that are positive on open sets; non-triviality conditions for measures on topological spaces |
| Doubling.lean | Doubling measures: measures where balls have controlled growth (bounded ratio between ball and its double); metric measure theory concept important for harmonic analysis |
| RegularityCompacts.lean | Regularity properties involving approximation by compact sets |
| Tilted.lean | Tilted measures: measures obtained by exponential tilting (importance sampling, large deviations theory) |
| Trim.lean | Trimming operation on outer measures to obtain measures |
| Sub.lean | Subtraction of measures when well-defined |
| Real.lean | Specific measure theory constructions for real numbers ℝ |
| Complex.lean | Specific measure theory constructions for complex numbers ℂ |
| QuasiMeasurePreserving.lean | Quasi-measure-preserving maps: measurable functions with absolute continuity properties |
| DiracProba.lean | Dirac measure in probability measure context |
| FiniteMeasureExt.lean | Extended results about finite measures |
| FiniteMeasurePi.lean | Finite measures on Pi types (infinite products) |
| FiniteMeasureProd.lean | Finite measures on product types |
| WithDensityFinite.lean | Finite measure results specific to withDensity construction |
| LogLikelihoodRatio.lean | Log-likelihood ratio between measures; information theory and statistics concept |

## Subdirectories

- [ ] `Decomposition/` - Measure decomposition theorems (Lebesgue decomposition, Hahn decomposition, Jordan decomposition)
- [ ] `Haar/` - Haar measure theory on groups (existence, uniqueness, properties)
- [ ] `Lebesgue/` - Lebesgue measure on ℝⁿ and related Euclidean spaces
- [ ] `Typeclasses/` - Typeclass instances for measure properties (finite, probability, sigma-finite, locally finite, no atoms)

## Search Tags

measure measure-space outer-measure probability-measure finite-measure hausdorff-measure stieltjes-measure dirac-measure lebesgue-measure counting-measure product-measure restriction withDensity radon-nikodym absolute-continuity mutual-singularity giry-monad weak-convergence levy-prokhorov portmanteau prokhorov tight-measure regular-measure inner-regular outer-regular completion null-measurable ae-measurable map-measure comap-measure characteristic-function support doubling-measure tilted-measure
