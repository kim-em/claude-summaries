---
source_path: /Users/kim/projects/lean/mathlib4/Mathlib/MeasureTheory
generated: 2026-01-25T21:45:00Z
git_sha: 542a7d7979ad5f45d2a89008412e565c8fa001d2
git_branch: heads/nightly-testing
status: complete
files_count: 4
subdirs_count: 12
---

# MeasureTheory

## Overview

The `MeasureTheory/` directory provides the complete formalization of measure theory and integration theory in mathlib4, spanning from foundational definitions through advanced applications in analysis, probability, and harmonic analysis. The development proceeds in layers: outer measures (countably subadditive functions on all sets) via Carathéodory construction yield measures (countably additive on σ-algebras), which support two complementary integration theories—the Lebesgue integral for extended non-negative real-valued functions (computational foundation with monotone convergence) and the Bochner integral for Banach space-valued functions (constructed via L¹ space extension from simple functions). Fundamental convergence theorems (monotone convergence, dominated convergence, Fubini) connect these theories and enable practical computation.

The directory develops the complete typeclass hierarchy for measure classification (finite, σ-finite, probability, atomless measures), measure operations (restriction, pushforward, density change via withDensity, product measures), and measure relationships (absolute continuity, mutual singularity). Major theoretical achievements include the Lebesgue-Radon-Nikodym decomposition theorems (splitting measures into singular and absolutely continuous parts with density functions), covering theorems enabling measure differentiation (Besicovitch for finite-dimensional spaces, Vitali for doubling measures), and Haar measure theory for locally compact groups (existence, uniqueness, quotient measures, disintegration).

Specialized subdirectories provide: measurable function theory with Lp spaces (including completeness, Hölder inequality, conditional expectation, uniform integrability), interval integration on ℝ with both fundamental theorems of calculus, curve integrals with Poincaré's lemma, measure constructions (products, projective limits, Borel spaces, Polish spaces with Borel Isomorphism Theorem), regularity theory (inner/outer approximation), weak convergence with Portmanteau and Prokhorov theorems, vector-valued and signed measures with Hahn-Jordan-Lebesgue decomposition, and categorical formulation via the Giry monad. The root level contains fundamental set-theoretic building blocks: π-systems with Dynkin's theorem, semirings and algebras of sets, and interface theorems connecting measure theory with topology.

## Key Files

| File | Purpose |
|------|---------|
| PiSystem.lean | Dynkin's π-λ theorem and induction principles for measurable sets: defines π-systems (collections closed under binary non-empty intersections) and Dynkin systems, proves that to check predicates on σ-algebras it suffices to check on generating π-systems with preservation by complementation and disjoint countable unions |
| SetSemiring.lean | Semirings and rings of sets: defines IsSetSemiring (families containing ∅, stable by intersection, where set differences decompose into disjoint finite unions) and IsSetRing (additionally closed under union), with key applications to intervals in ℝ |
| SetAlgebra.lean | Algebra of sets: defines IsSetAlgebra (families containing ∅, closed by complement and binary union, similar to σ-algebras but not necessarily closed under countable unions), proves generated algebras are countable when generated by countable families, shows σ-algebra generated by a family equals σ-algebra generated by the algebra of sets it generates |
| Topology.lean | Interface theorems combining measure theory and topology: proves that codiscrete sets within measurable sets are contained in the almost-everywhere filter for non-atomic measures on second-countable topological spaces |

## Subdirectories

- [x] `Category/` - Categorical formulation via MeasCat (measurable spaces as category), Giry monad (Measure functor with Dirac unit and measure join), Lebesgue integral as Giry algebra, Borel functor embedding TopCat into MeasCat
- [x] `Constructions/` - Measure constructions from components: product measures (Pi construction for finite/countable families, iterated products with marginals), projective limits (Kolmogorov extension foundations), polar coordinates (Haar measure on unit spheres with radial factorization), cylinders for infinite products, Borel spaces (σ-algebras from opens with extensive measurability), Polish spaces (standard Borel spaces, Lusin theorems, Borel Isomorphism Theorem), unit interval as canonical probability space
- [x] `Covering/` - Covering theorems enabling measure differentiation: abstract Vitali families (framework for extracting disjoint almost-everywhere coverings), Vitali theorem (for doubling measures), Besicovitch theorem (topological and measurable versions for finite-dimensional spaces with satellite configurations and multiplicity bounds), differentiation theorem (Radon-Nikodym derivative convergence), Lebesgue density and differentiation theorems, one-dimensional specializations
- [x] `Function/` - Comprehensive measurable function theory: strongly measurable functions (approximable by simple functions) enabling Bochner integration, Lp spaces (1 ≤ p ≤ ∞) with completeness and Lp seminorm hierarchy, L¹ integrable functions with dominated convergence, L⁰ AE-equal functions with group actions, conditional expectation (L² projection extended to indicators/L¹/general), simple function density, essential supremum for L∞, convergence modes (in measure, in distribution, AE), Egorov's theorem, locally integrable functions, uniform integrability with Vitali convergence, Jacobians for change of variables, Hölder inequality, special functions measurability
- [x] `Group/` - Measure theory on groups: invariant measure typeclasses (SMulInvariant, IsMulLeftInvariant/Right, IsAddLeftInvariant/Right), Haar measure (IsHaarMeasure typeclass with uniqueness up to scalars), fundamental domains (IsFundamentalDomain with covolume), convolution of measures (mconv/conv with integral formulas), integration on groups (translation invariance, inversion), modular character (homomorphism measuring deviation from unimodularity), Følner filters for amenable groups, geometry of numbers (Blichfeldt, Minkowski theorems), measurability of group operations, additive circle measure theory
- [x] `Integral/` - Comprehensive integration theory: Bochner integral for Banach-valued functions (four-step extension: indicators → simple → L¹ simple → all L¹), Lebesgue integral for ℝ≥0∞-valued functions (supremum over simple functions with monotone convergence), fundamental convergence theorems (dominated convergence for both, Fubini for products), interval integration on ℝ (both FTCs, integration by parts, change of variables), curve integrals with Poincaré's lemma, circle/torus integrals for complex analysis, improper integration (AECover linking proper integrals to limits), layer cake formula, integration against peak functions, mean inequalities (Hölder, Minkowski), divergence theorem on boxes, Vitali-Carathéodory approximation, Riesz-Markov-Kakutani representation
- [x] `MeasurableSpace/` - Foundational σ-algebra theory: MeasurableSpace structure with σ-algebra axioms, Measurable functions, complete lattice structure with generateFrom, Galois connection (map/comap functors), product σ-algebras (Prod, Pi) with π-systems, quotients and subtypes, measurable embeddings/equivalences with Schröder-Bernstein theorem, countably/measurably generated spaces with SeparatesPoints, cardinality bounds for generated σ-algebras (transfinite construction with continuum bound), eventually measurable sets modulo filters, invariant σ-algebras
- [x] `Measure/` - Complete measure theory: Measure structure (countably additive outer measure on measurable sets), MeasureSpace typeclass with volume, measure operations (restriction, pushforward map, pullback comap, withDensity for density change), measure relationships (absolute continuity ≪, mutual singularity ⊥ₘ), decomposition theorems (Lebesgue, Radon-Nikodym, Hahn via subdirectories), Haar measure on locally compact groups (existence, uniqueness, quotient measures, disintegration), Lebesgue measure on ℝⁿ (transformation via determinants, ball volumes), typeclass hierarchy (IsFiniteMeasure, σ-finite, s-finite, IsProbabilityMeasure, NoAtoms), regularity (outer/inner with open/closed/compact approximation), weak convergence (Portmanteau, Prokhorov, Levy-Prokhorov metric, tightness), specialized measures (Hausdorff, Stieltjes, Dirac, counting), Giry monad (measurable space structure on measures), completion
- [x] `Order/` - Measure theory on ordered structures: measurability typeclasses for lattice operations (MeasurableSup/Inf with unary/binary variants), order-connected sets in ℝⁿ have null frontiers (hence null-measurable despite not generally Borel), measurability for group lattice operations (positive/negative parts, multiplicative absolute value)
- [x] `OuterMeasure/` - Outer measure foundations: OuterMeasure structure (countably subadditive monotone functions with empty zero), algebraic operations (addition, scalar multiplication, suprema/infima), Carathéodory measurability criterion (split test for σ-algebra construction), almost-everywhere filter, constructions (ofFunction from arbitrary functions via covers, induced from contents on semirings, extension from additive contents), Borel-Cantelli lemma (first part: summable measures imply limsup null), trim operation
- [x] `SpecificCodomains/` - Integration for functions valued in specific types: continuous maps C(Y,E) on compact spaces (integrability via pointwise bounds, mkD constructor for AE-continuous), continuous maps vanishing at zero C(Y,E)₀, product types (Π i, E i and E × F with component-wise Lp characterization), Lp-normed products (PiLp, WithLp with integral interchange)
- [x] `VectorMeasure/` - Vector-valued and signed measures: VectorMeasure structure (σ-additive to additive monoid M), SignedMeasure as VectorMeasure to ℝ, operations (addition, negation, scalar multiplication, pushforward, restriction), order structure, absolute continuity ≪ᵥ and mutual singularity ⟂ᵥ for vector measures, withDensityᵥ (vector measure via integration with linearity and absolute continuity), decomposition theorems (Hahn, Jordan, Lebesgue, Radon-Nikodym for vector measures via subdirectory)

## Search Tags

measure-theory integration lebesgue-integral bochner-integral measurable-space sigma-algebra measure outer-measure haar-measure probability finite-measure vitali-covering besicovitch pi-system dynkin-theorem set-algebra set-semiring conditional-expectation lp-space essential-supremum convergence-in-measure radon-nikodym vector-measure absolute-continuity hausdorff-measure
